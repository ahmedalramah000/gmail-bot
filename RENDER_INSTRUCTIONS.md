# دليل تشغيل البوت على منصة Render

## مقدمة

هذا الدليل يشرح كيفية نشر وتشغيل بوت تلجرام للحصول على أكواد ChatGPT على منصة Render. تم إنشاء هذا الدليل لحل المشاكل التي تظهر عند تشغيل البوت على الخادم السحابي.

## المشاكل المعروفة وحلولها

البوت قد يواجه المشاكل التالية عند تشغيله على Render:

1. **مشكلة انتهاء التوكن**: `Invalid grant: Token has been expired or revoked`
2. **مشكلة الاتصال بـ Gmail**: `غير مُتاحة خدمة Gmail: فشل الاتصال بـ`
3. **مشكلة المتصفح**: `could not locate runnable browser`

تم إنشاء ملفات خاصة لحل هذه المشاكل:
- `render_fix.py`: لإصلاح مشاكل البيئة
- `render_start.py`: لتشغيل البوت بالطريقة الصحيحة
- `start_render.sh`: سكريبت بسيط لتشغيل البوت

## خطوات النشر على منصة Render

### الطريقة 1: النشر التلقائي باستخدام البلوبرينت

1. قم بتسجيل الدخول إلى [Render](https://dashboard.render.com/)
2. انقر على زر "New" ثم اختر "Blueprint"
3. حدد مستودع GitHub الخاص بك الذي يحتوي على البوت
4. سيقوم Render تلقائيًا بالتعرف على ملف `render.yaml` وإعداد الخدمة
5. أدخل كلمة مرور التطبيق (APP_PASSWORD) في المتغيرات البيئية
6. انقر على "Apply" لبدء عملية النشر

### الطريقة 2: النشر اليدوي

1. قم بتسجيل الدخول إلى [Render](https://dashboard.render.com/)
2. انقر على زر "New" ثم اختر "Web Service"
3. حدد مستودع GitHub الخاص بك الذي يحتوي على البوت
4. أدخل المعلومات التالية:
   - **Name**: gmail-bot (أو أي اسم تفضله)
   - **Region**: Frankfurt (أو أي منطقة قريبة منك)
   - **Branch**: main
   - **Runtime**: Python
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python render_start.py`
5. أضف المتغيرات البيئية التالية في قسم "Environment Variables":
   - `TELEGRAM_BOT_TOKEN`: توكن البوت الخاص بك
   - `TARGET_EMAIL`: البريد الإلكتروني المستهدف
   - `PASSWORD`: كلمة المرور
   - `USE_APP_PASSWORD`: true
   - `APP_PASSWORD`: كلمة مرور التطبيق الخاصة بالبريد الإلكتروني
6. انقر على "Create Web Service" لبدء عملية النشر

## كيفية الحصول على كلمة مرور التطبيق (APP_PASSWORD)

لتتمكن من استخدام Gmail من خلال البوت على منصة Render، تحتاج إلى كلمة مرور تطبيق:

1. سجل دخولك إلى حساب Google الخاص بك
2. انتقل إلى [أمان الحساب](https://myaccount.google.com/security)
3. قم بتفعيل المصادقة الثنائية (إذا لم تكن مفعلة)
4. بعد تفعيل المصادقة الثنائية، انتقل إلى [كلمات مرور التطبيقات](https://myaccount.google.com/apppasswords)
5. اختر "تطبيق آخر" وأدخل اسمًا مثل "gmail-bot"
6. انقر على "إنشاء" وستظهر لك كلمة مرور مكونة من 16 حرفًا
7. انسخ هذه الكلمة واستخدمها كقيمة لـ `APP_PASSWORD`

## تشخيص المشاكل

إذا واجهت مشاكل في تشغيل البوت، يمكنك التحقق من السجلات على Render:

1. انتقل إلى لوحة تحكم Render
2. افتح خدمة البوت
3. انتقل إلى تبويب "Logs"
4. راجع رسائل الخطأ وابحث عن الأخطاء المحددة

## ملاحظات إضافية

- تأكد من أن لديك النسخة المحدثة من مكتبات Python المطلوبة في ملف `requirements.txt`
- إذا كنت تستخدم Gmail، فتأكد من تفعيل "وصول التطبيقات الأقل أمانًا" أو استخدام كلمة مرور التطبيق
- تأكد من صلاحية توكن بوت التلجرام
- إذا كان البوت يعمل محليًا ولا يعمل على Render، فقد يكون هذا بسبب البيئة المختلفة. استخدم ملفات الإصلاح المذكورة أعلاه

## الدعم

إذا واجهت أي مشاكل أو كان لديك أي استفسارات، يمكنك التواصل مع المطور:
- تلجرام: @ahmedalramah000 